<%- include('partials/header.ejs'); -%>

<main
  class="flex-grow-1 d-flex justify-content-center align-items-center text-center"
>
  <div>
    <h1 class="display-5 fw-bold text-body-emphasis">Welcome to Book Notes</h1>
    <div class="col-lg-8 mx-auto">
      <p class="lead mb-4">
        This is a web app where I am covering some books I read over the time
        and my takes on them. This page might contain some spoilers so be
        warned.
      </p>
      
      <% if (locals.bookList) { %>
        <% bookList.forEach(book => { %>
          <div class="container">
            <div class="card">
              <div class="card-header">ISBN: <%= book.isbn %></div>
                <div class="card-body">
                  <h5 class="card-title"><%= book.title %></h5>
                  <p> <%= book.author %> </p>
                  <img
                  src= <%= book.cover %>
                  class="book-cover"
                  />
                  <hr>
                  <p id="reviewText" class="card-text" contenteditable="false"><%= book.review %></p>
                  <div class="d-flex justify-content-center gap-2 mt-3">
                    <button id="editButton" class="btn btn-primary">Edit Review</button>
                  <form action="/delete" method="POST" onsubmit="return confirm('Delete this book?');">
                    <input type="hidden" name="isbn" value="<%= book.isbn %>">
                    <button type="submit" class="btn btn-danger">Delete Book</button>
                  </form>
                  </div>
                </div>
            </div>
          </div>
          <hr>
        <% }); %>
      <% }; %> 
    </div>
  </div>
</main>

<%- include('partials/footer.ejs'); -%>
